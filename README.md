# 这里是国大学生数学建模大赛 2024年E题 解题思路

## 问题一：

### 对经中路-纬中路交叉口，根据车流量的差异，可将一天分成若干个时段，估计不同时段各个相位（包括四个方向直行、转弯）车流量。

#### 问题分析：

- 问题拆解：
  1. 将问题一分解成两小问：

     - 根据车流量差异，将一天划分为若干时段。
     - 估计不同时段各个相位（包括四个方向直行、转弯）的车流量
  2. 问题一模型备选：

     - 第一小问：划分车流量数据，参考使用***聚类分析***，可供使用的模型为：***K-means聚类分析、DBscan聚类分析***
     - 第二小问：估计不同时段各个相位（包括四个方向直行、转弯）的车流量，参考使用***优化算法*** ，可供使用的模型：***模拟退火算法、遗传算法、粒子群算法***。

#### 模型建立与求解：

- 数据预处理：

  1. 异常值、缺失值、重复值处理，经检查数据未存在缺失值以及重复值，但是数据存在一定数量的“无车牌”信息，作为异常值进行处理。
  2. 统一所有的时间格式。
  3. 将时间根据2024年的节假日（包含周末）以及工作日划分数据。
  4. 对数据进行标准化处理。
- 模型的建立：

  1. 使用***K-means聚类***方法对数据进行聚类分析。

     - K-means聚类：
       - 模型原理：
         1. 指定K值，将数据划分为K个簇
         2. 计算每个簇的均值，获得“质心”，即聚类中心
         3. 对数据进行距离度量，使用欧式距离进行计算，每个数据与质心的距离
         4. 优化目标：使得所有数据划分到最近的聚类中心的簇里
       - 工作流程：
         1. 初始化K值，针对K值的选择，我们采用***肘部法则***选择合适的k值。
            - 肘部法则：
            - SSE是指所有对象到其所属簇中心的距离平方和。当我们增加簇的数量时，每个簇内的数据点会更加紧密地聚集在其簇中心周围，从而导致SSE逐渐减小。但是，当簇的数量达到某个点后，继续增加簇的数量对减少SSE的效果将变得不那么明显。肘部法则正是基于这一现象：绘制出SSE随簇数量增加的变化曲线，理想情况下，该曲线呈现出一个“肘部”，在这个点之后，曲线的下降速度显著放缓。这个“肘部”对应的簇数量就被认为是相对理想的簇数。
            - 根据肘部法则得出结果，我们选择k值为3或者4，这里我们选择3
         2. 基于选择的k值，将数据划分为3个簇，计算每个簇的聚类中心。
         3. 一旦所有对象都被分配给了某个簇之后，重新计算每个簇的聚类中心。新聚类中心通过计算簇内所有对象的平均值来确定。
         4. 重复循环前两步，直至分配给簇的数据不在发生任何变化为止。
       - 本题目中，我们根据划分成3个簇，最终获得对应的数据，将工作日和节假日的两个数据分开，进行k-means聚类，获得三个聚类划分，而后，绘制聚类后的图，我们可以得到对应标签，工作日：0 -> 平峰，1 -> 低峰， 2 -> 高峰,节假日：0 -> 高峰，1 -> 低峰，2 -> 平峰
  2. 使用粒子群优化算法对各个相位，左转、右转、直行比例的划分。

     - 粒子群优化算法：
       - 详见目录文件下的：***粒子群算法在车辆转向比例推断中的应用研究.docx***
     - 最终确定比例数据，根据比例，将各个时段的各个相位左转、右转、直行车流量数据进行计算得到最终估算结果

## 问题二：

### 根据所给数据和上述模型，对经中路和纬中路上所有交叉口的信号灯进行优化配置，在保证车辆通行的前提下，使得两条主路上的车流平均速度最大。

#### 问题分析：

- 问题拆解：

  1. 将问题二拆解为两小问：

  - 根据所给数据和上述模型，对经中路和纬中路上所有交叉口的信号灯进行优化配置
  - 在保证车辆通行的前提下，使得两条主路上的车流平均速度最大。

#### 问题二的模型建立与求解：
  - 数据处理：
    1. 将经中路和纬中路上各个交叉口的数据按照问题一的问题处理方式进行处理，提取出各个交叉口各个相位上的节假日和工作日的车流量数据。
    2. 对每个交叉口数据通过K-means聚类分析，将每个交叉口的数据分为n个簇，每个簇对应一个时段，每个簇内的数据对应一个时段。
  - 模型建立：
    1. 对经中路和纬中路上所有交叉口的信号灯进行优化配置，建立Webster模型，对问题拆解为：求最小化目标函数：总延误最小
    2. 建立Webster模型：
       - 模型原理：
         1.  Webster模型是一种交通流量分配模型，用于预测交通流量在不同交通信号灯控制下的流量分配情况。
         2. 模型假设：
            1. 交通流量在不同交通信号灯控制下的流量分配是线性的。
            2. 交通流量在不同交通信号灯控制下的流量分配是一致的。
    3. 采用**遗传算法**对Webster模型进行优化：
       - 遗传算法：
         1. 遗传算法是一种基于模拟自然进化过程的优化算法，用于解决优化问题。
         2. 遗传算法的基本思想是：通过模拟自然选择、交叉和变异等操作，不断优化种群中的个体，从而找到问题的最优解。
         3. 遗传算法的工作流程：
            1. 初始化种群：随机生成初始种群，每个个体表示一个解。
            2. 评估适应度：计算每个个体的适应度，即解的质量。
            3. 选择：根据适应度选择个体，适应度高的个体被选中的概率较大。
            4. 交叉：通过交叉操作，将选中的个体进行组合，生成新的个体。
            5. 变异：通过变异操作，随机改变个体的某些基因，引入新的解。
            6. 重复以上步骤，直到满足停止条件（如达到最大迭代次数或找到最优解）。
            7. 输出最优解：遗传算法迭代结束后，输出最优解，即问题的最优解。

## 问题三：
### 问题三模型建立与求解：
  1. 问题三的模型建立：
    - 提取出五一黄金周期间的数据，按照前两问的数据处理思路，对数据进行处理。
    - 筛选出低速车辆：速度低于15km/h的车辆
    - 筛选出重复访问车辆：在同一路口一小时内出现过三次以上的车辆
    - 同时满足以上两个条件的车辆为巡游车辆。
    - 根据每天的巡游车辆数，建立排队论的**m/m/c**模型。


  2. 问题三模型的求解：
    - 通过求解模型当中的参数，最终确定应该增加的停车位数量。


## 问题四：
### 问题四求解：
  1. 通过对比五一黄金周期间与4月1日至4月5日的车流量数据、车流量密度、低速车流量数据，分析出五一黄金周期间的车流量数据与4月1日至4月5日的车流量数据有何不同。
  2. 通过分析五一黄金周期间车辆行驶方向，判断是否符合附件三给出的路线。




